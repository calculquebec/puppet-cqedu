#!/cvmfs/soft.computecanada.ca/easybuild/software/2023/x86-64-v4/Compiler/gcccore/python/3.11.5/bin/python

from getpass import getpass
import os
import time

hostname = os.environ['HOSTNAME']
user = os.environ['USER']

prompt = f"({user}@{hostname}) Password: "
max_iter = 3

for i in [1, 2, 3]:
  password = getpass(prompt=prompt)
  if password == 'cip101':
    exit(0)
  time.sleep(2)

print(f"{user}@{hostname}: : Permission denied (publickey,gssapi-keyex,gssapi-with-mic,keyboard-interactive).")
exit(1)